use std::fs::File;
use std::io::prelude::*;

pub fn get_mimetype(file_path: &File) -> Option<String> {
    if file_path.is_directory() {
        Some("inode/directory")
    } else {
        if let Some(ext) = file_path.ext.as_ref() {
            match ext.as_str() {
                "ez" => Some("application/activemessage"),
                "anx" => Some("application/annodex"),
                "atom" => Some("application/atom+xml"),
                "atomcat" => Some("application/atomcat+xml"),
                "atomsrv" => Some("application/atomserv+xml"),
                "lin" => Some("application/bbolin"),
                "cu" => Some("application/cu-seeme"),
                "davmount" => Some("application/davmount+xml"),
                "dcm" => Some("application/dicom"),
                "tsp" => Some("application/dsptype"),
                "es" => Some("application/ecmasscript"),
                "epub" => Some("application/epub+zip"),
                "otf" => Some("application/font-sfnt"),
                "ttf" => Some("application/font-sfnt"),
                "pfr" => Some("application/font-tdpfr"),
                "woff" => Some("application/font-woff"),
                "spl" => Some("application/futuresplash"),
                "gz" => Some("application/gzip"),
                "hta" => Some("application/hta"),
                "jar" => Some("application/java-archive"),
                "ser" => Some("application/java-serelialized-object"),
                "class" => Some("application/java-vm"),
                "js" => Some("application/javascript"),
                "mjs" => Some("application/javascript"),
                "json" => Some("application/json"),
                "jsonld" => Some("application/ld+json"),
                "m3g" => Some("application/m3g"),
                "hqx" => Some("application/mac-binhex40"),
                "cpt" => Some("application/mac-compactpro"),
                "nb" => Some("application/mathematica"),
                "npb" => Some("application/mathematica"),
                "mbox" => Some("application/mbox"),
                "mdb" => Some("application/msaccess"),
                "doc" => Some("application/msword"),
                "dot" => Some("application/msword"),
                "mxf" => Some("application/mxf"),
                "bin" => Some("application/octet-stream"),
                "deploy" => Some("application/octet-stream"),
                "msu" => Some("application/octet-stream"),
                "msp" => Some("application/octet-stream"),
                "oda" => Some("application/oda"),
                "opf" => Some("application/oebps-package+xml"),
                "ogx" => Some("application/ogg"),
                "one" => Some("application/onenote"),
                "onetoc2" => Some("application/onenote"),
                "onetmp" => Some("application/onenote"),
                "onepkg" => Some("application/onenote"),
                "pdf" => Some("application/pdf"),
                "pgp" => Some("application/pgp-encrypted"),
                "key" => Some("application/pgp-keys"),
                "sig" => Some("application/pgp-signature"),
                "prf" => Some("application/pics-rules"),
                "ps" => Some("application/postscript"),
                "ai" => Some("application/postscript"),
                "eps" => Some("application/postscript"),
                "epsi" => Some("application/postscript"),
                "epsf" => Some("application/postscript"),
                "eps2" => Some("application/postscript"),
                "eps3" => Some("application/postscript"),
                "rar" => Some("application/rar"),
                "rdf" => Some("application/rdf+xml"),
                "rtf" => Some("application/rtf"),
                "stl" => Some("application/sla"),
                "smi" => Some("application/smil+xml"),
                "smil" => Some("application/smil+xml"),
                "wasm" => Some("application/wasm"),
                "xhtml" => Some("application/xhtml+xml"),
                "xht" => Some("application/xhtml+xml"),
                "xml" => Some("application/xml"),
                "xsd" => Some("application/xml"),
                "xsl" => Some("application/xslt+xml"),
                "xslt" => Some("application/xslt+xml"),
                "xspf" => Some("application/xspf+xml"),
                "zip" => Some("application/zip"),
                "apk" => Some("application/vnd.android.package-archive"),
                "cdy" => Some("application/vnd.cinderella"),
                "deb" => Some("application/vnd.debian.binary-package"),
                "ddeb" => Some("application/vnd.debian.binary-package"),
                "udeb" => Some("application/vnd.debian.binary-package"),
                "sfd" => Some("application/vnd.font-fontforge-sfd"),
                "kml" => Some("application/vnd.google-earth.kml+xml"),
                "kmz" => Some("application/vnd.google-earth.kmz"),
                "xul" => Some("application/vnd.mozilla.xul+xml"),
                "xlb" => Some("application/vnd.ms-excel"),
                "xlt" => Some("application/vnd.ms-excel"),
                "xlam" => Some("application/vnd.ms-excel.addin.macroEnabled.12"),
                "xlsb" => Some("application/vnd.ms-excel.sheet.binary.macroEnabled.12"),
                "xlsm" => Some("application/vnd.ms-excel.sheet.macroEnabled.12"),
                "xltm" => Some("application/vnd.ms-excel.template.macroEnabled.12"),
                "thmx" => Some("application/vnd.ms-officetheme"),
                "cat" => Some("application/vnd.ms-pki.seccat"),
                "ppt" => Some("application/vnd.ms-powerpoint"),
                "pps" => Some("application/vnd.ms-powerpoint"),
                "ppam" => Some("application/vnd.ms-powerpoint.addin.macroEnabled.12"),
                "pptm" => Some("application/vnd.ms-powerpoint.presentation.macroEnabled.12"),
                "sldm" => Some("application/vnd.ms-powerpoint.slide.macroEnabled.12"),
                "ppsm" => Some("application/vnd.ms-powerpoint.slideshow.macroEnabled.12"),
                "potm" => Some("application/vnd.ms-powerpoint.template.macroEnabled.12"),
                "docm" => Some("application/vnd.ms-word.document.macroEnabled.12"),
                "dotm" => Some("application/vnd.ms-word.template.macroEnabled.12"),
                "odc" => Some("application/vnd.oasis.opendocument.chart"),
                "odf" => Some("application/vnd.oasis.opendocument.formula"),
                "odb" => Some("application/vnd.oasis.opendocument.database"),
                "odg" => Some("application/vnd.oasis.opendocument.graphics"),
                "otg" => Some("application/vnd.oasis.opendocument.graphics-template"),
                "odi" => Some("application/vnd.oasis.opendocument.image"),
                "odp" => Some("application/vnd.oasis.opendocument.presentation"),
                "otp" => Some("application/vnd.oasis.opendocument.presentation-template"),
                "ods" => Some("application/vnd.oasis.opendocument.spreadsheet"),
                "ots" => Some("application/vnd.oasis.opendocument.spreadsheet-template"),
                "odt" => Some("application/vnd.oasis.opendocument.text"),
                "odm" => Some("application/vnd.oasis.opendocument.text-master"),
                "ott" => Some("application/vnd.oasis.opendocument.text-template"),
                "oth" => Some("application/vnd.oasis.opendocument.text-web"),
                "pptx" => Some("application/vnd.openxmlformats-officedocument.presentationml.presentation"),
                "sldx" => Some("application/vnd.openxmlformats-officedocument.presentationml.slide"),
                "ppsx" => Some("application/vnd.openxmlformats-officedocument.presentationml.slideshow"),
                "potx" => Some("application/vnd.openxmlformats-officedocument.presentationml.template"),
                "xlsx" => Some("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"),
                "xltx" => Some("application/vnd.openxmlformats-officedocument.spreadsheetml.template"),
                "docx" => Some("application/vnd.openxmlformats-officedocument.wordprocessingml.document"),
                "dotx" => Some("application/vnd.openxmlformats-officedocument.wordprocessingml.template"),
                "cod" => Some("application/vnd.rim.cod"),
                "mmf" => Some("application/vnd.shana.informed.package"),
                "sdc" => Some("application/vnd.stardivision.calc"),
                "sds" => Some("application/vnd.stardivision.chart"),
                "sda" => Some("application/vnd.stardivision.draw"),
                "sdd" => Some("application/vnd.stardivision.impress"),
                "sdf" => Some("application/vnd.stardivision.math"),
                "sdw" => Some("application/vnd.stardivision.writer"),
                "sgl" => Some("application/vnd.stardivision.writer-global"),
                "sxc" => Some("application/vnd.sun.xml.calc"),
                "stc" => Some("application/vnd.sun.xml.calc.template"),
                "sxd" => Some("application/vnd.sun.xml.draw"),
                "std" => Some("application/vnd.sun.xml.draw.template"),
                "sxi" => Some("application/vnd.sun.xml.impress"),
                "sti" => Some("application/vnd.sun.xml.impress.template"),
                "sxm" => Some("application/vnd.sun.xml.math"),
                "sxw" => Some("application/vnd.sun.xml.writer"),
                "sxg" => Some("application/vnd.sun.xml.writer.global"),
                "stw" => Some("application/vnd.sun.xml.writer.template"),
                "sis" => Some("application/vnd.symbian.install"),
                "cap" => Some("application/vnd.tcpdump.pcap"),
                "pcap" => Some("application/vnd.tcpdump.pcap"),
                "vsd" => Some("application/vnd.visio"),
                "vst" => Some("application/vnd.visio"),
                "vsw" => Some("application/vnd.visio"),
                "vss" => Some("application/vnd.visio"),
                "wbxml" => Some("application/vnd.wap.wbxml"),
                "wmlc" => Some("application/vnd.wap.wmlc"),
                "wmlsc" => Some("application/vnd.wap.wmlscriptc"),
                "wpd" => Some("application/vnd.wordperfect"),
                "wp5" => Some("application/vnd.wordperfect5.1"),
                "wk" => Some("application/x-123"),
                "7z" => Some("application/x-7z-compressed"),
                "abw" => Some("application/x-abiword"),
                "dmg" => Some("application/x-apple-diskimage"),
                "bcpio" => Some("application/x-bcpio"),
                "torrent" => Some("application/x-bittorrent"),
                "cab" => Some("application/x-cab"),
                "cbr" => Some("application/x-cbr"),
                "cbz" => Some("application/x-cbz"),
                "cdf" => Some("application/x-cdf"),
                "cda" => Some("application/x-cdf"),
                "vcd" => Some("application/x-cdlink"),
                "pgn" => Some("application/x-chess-pgn"),
                "mph" => Some("application/x-comsol"),
                "cpio" => Some("application/x-cpio"),
                "csh" => Some("application/x-csh"),
                "dcr" => Some("application/x-director"),
                "dir" => Some("application/x-director"),
                "dxr" => Some("application/x-director"),
                "dms" => Some("application/x-dms"),
                "wad" => Some("application/x-doom"),
                "dvi" => Some("application/dvi"),
                "pfa" => Some("application/x-font"),
                "pfb" => Some("application/x-font"),
                "gsf" => Some("application/x-font"),
                "pcf" => Some("application/x-font-pcf"),
                "mm" => Some("application/x-freemind"),
                "spl" => Some("application/x-futuresplash"),
                "gan" => Some("application/x-ganttproject"),
                "gnumeric" => Some("application/x-gnumeric"),
                "sgf" => Some("application/x-go-sgf"),
                "gcf" => Some("application/x-graphing-calculator"),
                "gtar" => Some("application/x-gtar"),
                "taz" => Some("application/x-gtar-compressed"),
                "tgz" => Some("application/x-gtar-compressed"),
                "hdf" => Some("application/x-hdf"),
                "hwp" => Some("application/x-hwp"),
                "ica" => Some("application/x-ica"),
                "info" => Some("application/x-info"),
                "ins" => Some("application/x-internet-signup"),
                "isp" => Some("application/x-internet-signup"),
                "iii" => Some("application/x-iphone"),
                "iso" => Some("application/x-iso9660-image"),
                "jam" => Some("application/x-jam"),
                "jnlp" => Some("application/x-java-jnlp-file"),
                "jmz" => Some("application/x-jmol"),
                "chrt" => Some("application/x-kchart"),
                "kil" => Some("application/x-killustrator"),
                "skp" => Some("application/x-koan"),
                "skd" => Some("application/x-koan"),
                "skt" => Some("application/x-koan"),
                "skm" => Some("application/x-koan"),
                "kpr" => Some("application/x-kpresenter"),
                "kpt" => Some("application/x-kpresenter"),
                "ksp" => Some("application/x-kspread"),
                "kwd" => Some("application/x-kword"),
                "kwt" => Some("application/x-kword"),
                "latex" => Some("application/x-latex"),
                "lha" => Some("application/x-lha"),
                "lyx" => Some("application/x-lyx"),
                "lzh" => Some("application/x-lzh"),
                "lzx" => Some("application/x-lzx"),
                "book" => Some("application/x-maker"),
                "frm" => Some("application/x-maker"),
                "frame" => Some("application/x-maker"),
                "maker" => Some("application/x-maker"),
                "fm" => Some("application/x-maker"),
                "fb" => Some("application/x-maker"),
                "fbdoc" => Some("application/x-maker"),
                "mif" => Some("application/x-mif"),
                "m3u8" => Some("application/x-mpegURL"),
                "application" => Some("application/x-ms-application"),
                "manifest" => Some("application/x-ms-manifest"),
                "wmd" => Some("application/x-ms-wmd"),
                "wmz" => Some("application/x-ms-wmz"),
                "com" => Some("application/x-msdos-program"), // ironic
                "exe" => Some("application/x-msdos-program"),
                "bat" => Some("application/x-msdos-program"),
                "dll" => Some("application/x-msdos-program"),
                "msi" => Some("application/x-msi"),
                "nc" => Some("application/x-netcdf"),
                "pac" => Some("application/x-ns-proxy-autoconfig"),
                "nwc" => Some("application/nwc"),
                "o" => Some("application/x-object"),
                "oza" => Some("application/x-oz-application"),
                "p7r" => Some("application/x-pkcs7-certreqresp"),
                "crl" => Some("application/x-pkcs7-crl"),
                "pyc" => Some("application/x-python-code"),
                "pyo" => Some("application/x-python-code"),
                "qgs" => Some("application/x-qgis"),
                "shp" => Some("application/x-qgis"),
                "shx" => Some("application/x-qgis"),
                "qtl" => Some("application/x-quicktimeplayer"), // what
                "rdp" => Some("application/x-rdp"),
                "rpm" => Some("application/x-redhat-package-manager"),
                "rss" => Some("application/x-rss-xml"),
                "rb" => Some("application/x-ruby"),
                "sci" => Some("application/x-sclilab"),
                "xcos" => Some("application/x-sclilab-cos"),
                "sh" => Some("application/x-sh"),
                "shar" => Some("application/x-shar"),
                "swf" => Some("application/x-shockwave-flash"),
                "swfl" => Some("application/x-shockwave-flash"),
                "scr" => Some("application/x-silverlight"),
                "sql" => Some("application/x-sql"),
                "sit" => Some("application/x-stuffit"),
                "sitx" => Some("application/x-stuffit"),
                "sv4cpio" => Some("application/x-sv4cpio"),
                "sv4crc" => Some("application/x-sv4crc"),
                "tar" => Some("application/x-tar"),
                "tcl" => Some("application/x-tcl"),
                "gf" => Some("application/x-tex-gf"),
                "pk" => Some("application/x-tex-pk"),
                "texinfo" => Some("application/x-texinfo"),
                "~" => Some("application/x-trash"),
                "%" => Some("application/x-trash"),
                "bak" => Some("application/x-trash"),
                "old" => Some("application/x-trash"),
                "sik" => Some("application/x-trash"),
                "t" => Some("application/x-troff"),
                "tr" => Some("application/x-troff"),
                "roff" => Some("application/x-troff"),
                "man" => Some("application/x-troff-man"),
                "me" => Some("application/x-troff-me"),
                "ms" => Some("application/x-troff-ms"),
                "ustar" => Some("application/x-ustar"),
                "src" => Some("application/x-wais-source"),
                "wz" => Some("application/x-wingz"),
                "crt" => Some("application/x-x509-ca-cert"),
                "xcf" => Some("application/x-xcf"),
                "fig" => Some("application/x-xfig"),
                "xpi" => Some("application/x-xpinstall"),
                "xz" => Some("application/x-xz")
                _ => None
            } else {
                None
            }
        }
    }
}
